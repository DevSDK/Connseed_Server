<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="viewport" content="width=device-width, shrink-to-fit=no, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Connseed - Light&Powerful Smart Farming Solution</title>

    <!-- Bootstrap Core CSS -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="/static/css/simple-sidebar.css" rel="stylesheet">
    <link href="/static/css/fb.css" rel="stylesheet">
    <link href="/static/css/devlist.css" rel="stylesheet">


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <style>
        body {
            height: 100%;
            margin: 0;
            overflow-x: hidden;
            overflow-y: auto;
            padding: 0;
            width: 100%;
            background: url(/static/bg.png) repeat center center fixed;
            background-size: cover;
        }
    </style>
    <style>
        .bar rect {
            fill: rgba(255, 245, 70, 1);
        }

        .barnow rect {
            fill: rgba(255, 105, 70, 1);
        }

        .bar text {
            fill: #000;
            font: 10px sans-serif;
        }

        body {
            height: 100%;
            margin: 0;
            overflow-x: hidden;
            overflow-y: auto;
            padding: 0;
            width: 100%;
            background: url(/static/bg.png) repeat center center fixed;
            background-size: cover;
        }
    </style>
</head>

<body>

    <div id="wrapper">

        <!-- Sidebar -->
        <div id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <li class="sidebar-brand">
                    <a href="/" style="color:white; font-size:30px">
                        Connseed.
                    </a>
                </li>
                <li>
                    <a href="/profile">계정</a>
                </li>
                <li>
                    <a href="/device">디바이스 관리</a>
                </li>
                <li>
                    <a href="/monitoring">모니터링</a>
                </li>
                <li>
                    <a href="/analysis">프리미엄 분석</a>
                </li>
            </ul>


            <a href="#menu-toggle" class="float" id="menu-toggle" style="color:white;">
                <br />
                ' '
            </a>
        </div>
        <!-- /#sidebar-wrapper -->
        <!-- Page Content -->
        <div id="page-content-wrapper">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-12">
                        <h1 style="color:white; font-size:50px">Monitoring</h1>
                        <p style="color:white; font-size:20px">This template has a responsive menu toggling system. The menu will appear collapsed on smaller screens, and will appear non-collapsed on larger screens. When toggled using the button below, the menu will appear/disappear. On small screens, the page content will be pushed off canvas.</p>
                        <p style="color:white">Make sure to keep all page content within the <code>#page-content-wrapper</code>.</p>
                        <ol>
                            <li class="rectangle-list">
                                <a>Device 1</a>
                                <ul class="hide">
                                    <li><a href="" id="TEM1">TEM : unknown</a></li>
                                    <li><a href="" id="HUM1">HUM : unknown</a></li>
                                    <li><a href="" id="WTR1">WTR : unknown</a></li>
                                    <li><a href="" id="BRI1">BRI : unknown</a></li>
                                </ul>
                            </li>
                            <li class="rectangle-list">
                                <a>Device 2</a>
                                <ul class="hide">
                                    <li><a href="">TMP : 23ºC</a></li>
                                    <li><a href="">HUM : 70%</a></li>
                                    <li><a href="">WTR : 20%</a></li>
                                    <li><a href="">BRI : 700Lx</a></li>
                                </ul>
                            </li>
                            <li class="rectangle-list">
                                <a>Device 3</a>
                                <ul class="hide">
                                    <li><a href="">TMP : 41ºC</a></li>
                                    <li><a href="">
                                            <svg width="500" height="500" style="background-color:rgba(50, 50, 30, 0)"></svg>
                                            <script src="/static/js/d3.min.js"></script>
                                            <script type="text/javascript" src="/static/monitor.js"></script>
                                            HUM : 71%<br />
                                        </a></li>
                                    <li><a href="">WTR : 60%</a></li>
                                    <li><a href="">BRI : 540Lx</a></li>
                                </ul>
                            </li>
                            <li class="rectangle-list">
                                <a>Device 4</a>
                                <ul class="hide">
                                    <li><a href="">TMP : 29ºC</a></li>
                                    <li><a href="">HUM : 56%</a></li>
                                    <li><a href="">WTR : 58%</a></li>
                                    <li><a href="">BRI : 220Lx</a></li>
                                </ul>
                            </li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
        <!-- /#page-content-wrapper -->

    </div>
    <!-- /#wrapper -->
    <!-- jQuery -->
    <script src="/static/js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="/static/js/bootstrap.min.js"></script>
 
    <!-- Menu Toggle Script -->
    <script>
        $("#menu-toggle").on('click', function (e) {
            e.preventDefault();
            $("#wrapper").toggleClass("toggled");
        });
    </script>

    <script>
        $("#close").on('click', function (e) {
            e.preventDefault();
            $("#wrapper").toggleClass("toggled");
        });
    </script>

    <script>
        $("#re").on('click', function (e) {
            e.preventDefault();
            $("#wrapper").toggleClass("toggled");
        });
    </script>

    <script type="text/javascript" language="JavaScript">
        // html dom 이 다 로딩된 후 실행된다.
        $(document).ready(function () {
            // memu 클래스 바로 하위에 있는 a 태그를 클릭했을때
            $(".rectangle-list>a").click(function () {
                // 현재 클릭한 태그가 a 이기 때문에
                // a 옆의 태그중 ul 태그에 hide 클래스 태그를 넣던지 빼던지 한다.
                $(this).next("ul").toggleClass("hide");
            });
        });
    </script>

    <script>
	jQuery(document).ready(function ($){
	    $.ajax({
		url: "http://169.56.126.151/data/getcurrentdata?device=1",
		dataType: "json",
		type: "GET",
		json: "callback",
		success: function(r){
			var tem = document.getElementById('TEM1');
			var hum = document.getElementById('HUM1');
			var wtr = document.getElementById('WTR1');
			var bri = document.getElementById('BRI1');
			tem.innerHTML = "TEM : " + r.Temperature + "ºC";
			hum.innerHTML = "HUM : " + r.Humidity + "%";
			wtr.innerHTML = "WTR : " + r.Wtr;
			bri.innerHTML = "BRI : " + r.Lux + "Lx";
		}
	    });
        });	
    </script>
</body>

</html>
